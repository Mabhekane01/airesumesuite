\documentclass[11pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[margin=2cm]{geometry}
\usepackage{titlesec}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{fontawesome5}

% Colors
\definecolor{darkblue}{RGB}{0, 77, 153}
\definecolor{graytext}{RGB}{80, 80, 80}

% Font setup (using standard LaTeX fonts to avoid compilation issues)
\renewcommand{\familydefault}{\sfdefault}

% Section Formatting
\titleformat{\section}
  {\Large\bfseries\color{darkblue}\uppercase}
  {}
  {0em}
  {}\[\titlerule]
\titlespacing{\section}{0pt}{12pt}{8pt}

% Custom Commands
\newcommand{\entry}[4]{
  \noindent\textbf{#1} \hfill {\small \color{graytext} #2} \\
  \textit{#3} \hfill \\
  \vspace{-5pt}
  \begin{itemize}[leftmargin=*,noitemsep]
    #4
  \end{itemize}
  \vspace{5pt}
}

\newcommand{\education}[4]{
  \noindent\textbf{#1} \hfill {\small \color{graytext} #2} \\
  \textit{#3} \\
  {#4}
  \vspace{8pt}
}

\begin{document}

% --- HEADER ---
\begin{center}
    {\Huge \textbf{\VAR{personalInfo.firstName} \VAR{personalInfo.lastName}}} \\ \vspace{5pt}
    \VAR{personalInfo.headline} \\ \vspace{5pt}
    \small
    \faMapMarker* \VAR{personalInfo.city}, \VAR{personalInfo.country} \quad
    \faPhone \VAR{personalInfo.phone} \quad
    \faEnvelope \VAR{personalInfo.email}
\end{center}

\vspace{10pt}

% --- PROFESSIONAL SUMMARY ---
\BLOCK{if professionalSummary}
\section{Profile Summary}
\VAR{professionalSummary}
\BLOCK{endif}

% --- EDUCATION (Prominent for Entry Level) ---
\section{Education}
\BLOCK{for edu in education}
\education{\VAR{edu.institution}}{\VAR{edu.startDate} -- \VAR{edu.endDate}}{\VAR{edu.degree}}{
    \BLOCK{if edu.description}
    \textbf{Subjects/Achievements:} \VAR{edu.description}
    \BLOCK{endif}
}
\BLOCK{endfor}

% --- SKILLS & LANGUAGES ---
\section{Skills & Competencies}
\begin{itemize}[leftmargin=*]
    \BLOCK{for skill in skills}
    \item \textbf{\VAR{skill.name}}: \VAR{skill.level}
    \BLOCK{endfor}
\end{itemize}

% --- EXPERIENCE (If Any) ---
\BLOCK{if workExperience and len(workExperience) > 0}
\section{Experience}
\BLOCK{for exp in workExperience}
\entry{\VAR{exp.jobTitle}}{\VAR{exp.startDate} -- \VAR{exp.endDate}}{\VAR{exp.company}}{
    \BLOCK{if exp.responsibilities}
    \BLOCK{for resp in exp.responsibilities}
    \item \VAR{resp}
    \BLOCK{endfor}
    \BLOCK{endif}
}
\BLOCK{endfor}
\BLOCK{endif}

% --- REFERENCES ---
\BLOCK{if references and len(references) > 0}
\section{References}
\begin{itemize}[leftmargin=*]
    \BLOCK{for ref in references}
    \item \textbf{\VAR{ref.name}} (\VAR{ref.relationship}) \\
    \VAR{ref.company} -- \faPhone \ \VAR{ref.phone} \BLOCK{if ref.email} / \faEnvelope \ \VAR{ref.email} \BLOCK{endif}
    \BLOCK{endfor}
\end{itemize}
\BLOCK{endif}

\end{document}
