# Render.com Docker Compose deployment
FROM docker/compose:latest

WORKDIR /app

# Copy docker-compose and related files
COPY docker-compose.cloud.yml .
COPY apps/ ./apps/
COPY package.json pnpm-lock.yaml pnpm-workspace.yaml turbo.json ./

# Install Docker Compose
RUN apk add --no-cache docker-cli

# Expose port
EXPOSE 3001

# Start with docker-compose
CMD ["docker-compose", "-f", "docker-compose.cloud.yml", "up"]